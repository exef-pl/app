# ExeF Test Environment Configuration
# This file configures mock services for Docker-based testing

EXEF_ENV_FILE=.env.test
NODE_ENV=test

KSEF_ENV=demo
KSEF_BASE_URL=

EXEF_API_URL=http://127.0.0.1:3030
EXEF_OUTPUT_FORMAT=text

EXEF_LOCAL_SERVICE_HOST=127.0.0.1
EXEF_LOCAL_SERVICE_PORT=3030

EXEF_STORAGE_BACKEND=sqlite
EXEF_DB_PATH=./data/exef-test.sqlite

EXEF_WATCH_PATHS=

# ============================================
# OCR Configuration (Testing)
# ============================================
EXEF_OCR_PROVIDER=external-api
EXEF_OCR_EXTERNAL_URL=mock://ocr
EXEF_OCR_EXTERNAL_PRESET=
EXEF_OCR_TIMEOUT_MS=2000
EXEF_OCR_MOCK_TEXT=Faktura FV/2026/01/001\nNIP: 123-456-32-18\nSuma: 123,45 PLN

# ============================================
# Storage Provider Configuration (Mock Services)
# ============================================

# Dropbox Mock
EXEF_DROPBOX_ENABLED=true
EXEF_DROPBOX_API_URL=http://localhost:8091
EXEF_DROPBOX_ACCESS_TOKEN=mock_dropbox_token
EXEF_DROPBOX_REFRESH_TOKEN=mock_dropbox_refresh
EXEF_DROPBOX_CLIENT_ID=mock_client_id
EXEF_DROPBOX_CLIENT_SECRET=mock_client_secret
EXEF_DROPBOX_FOLDER_PATH=/

# Google Drive Mock
EXEF_GDRIVE_ENABLED=true
EXEF_GDRIVE_API_URL=http://localhost:8092
EXEF_GDRIVE_ACCESS_TOKEN=mock_gdrive_token
EXEF_GDRIVE_REFRESH_TOKEN=mock_gdrive_refresh
EXEF_GDRIVE_CLIENT_ID=mock_client_id
EXEF_GDRIVE_CLIENT_SECRET=mock_client_secret
EXEF_GDRIVE_FOLDER_ID=folder_root_invoices

# OneDrive Mock
EXEF_ONEDRIVE_ENABLED=true
EXEF_ONEDRIVE_API_URL=http://localhost:8093
EXEF_ONEDRIVE_ACCESS_TOKEN=mock_onedrive_token
EXEF_ONEDRIVE_REFRESH_TOKEN=mock_onedrive_refresh
EXEF_ONEDRIVE_CLIENT_ID=mock_client_id
EXEF_ONEDRIVE_CLIENT_SECRET=mock_client_secret
EXEF_ONEDRIVE_FOLDER_ID=root

# Nextcloud Mock
EXEF_NEXTCLOUD_ENABLED=true
EXEF_NEXTCLOUD_WEBDAV_URL=http://localhost:8094/remote.php/dav/files/testuser
EXEF_NEXTCLOUD_USERNAME=testuser
EXEF_NEXTCLOUD_PASSWORD=testpass
EXEF_NEXTCLOUD_FOLDER_PATH=/

# ============================================
# Email Provider Configuration (Mock Services)
# ============================================

# IMAP (GreenMail)
EXEF_IMAP_ENABLED=true
EXEF_IMAP_HOST=localhost
EXEF_IMAP_PORT=3143
EXEF_IMAP_USER=test@exef.local
EXEF_IMAP_PASSWORD=testpass
EXEF_IMAP_TLS=false

# Gmail OAuth Mock
EXEF_GMAIL_ENABLED=true
EXEF_GMAIL_API_URL=http://localhost:8081
EXEF_GMAIL_ACCESS_TOKEN=mock_gmail_token
EXEF_GMAIL_REFRESH_TOKEN=mock_gmail_refresh
EXEF_GMAIL_CLIENT_ID=mock_client_id
EXEF_GMAIL_CLIENT_SECRET=mock_client_secret

# Outlook OAuth Mock
EXEF_OUTLOOK_ENABLED=true
EXEF_OUTLOOK_API_URL=http://localhost:8082
EXEF_OUTLOOK_ACCESS_TOKEN=mock_outlook_token
EXEF_OUTLOOK_REFRESH_TOKEN=mock_outlook_refresh
EXEF_OUTLOOK_CLIENT_ID=mock_client_id
EXEF_OUTLOOK_CLIENT_SECRET=mock_client_secret

# ============================================
# KSeF Configuration
# ============================================
EXEF_KSEF_ENABLED=false
EXEF_KSEF_NIP=
EXEF_KSEF_TOKEN=
EXEF_KSEF_TOKEN_TYPE=

# ============================================
# Device Configuration (Scanners & Printers)
# ============================================
# Scanner 1
EXEF_SCANNER_1_ENABLED=true
EXEF_SCANNER_1_NAME=ExEF-Scanner-1
EXEF_SCANNER_1_API_URL=http://localhost:8101
EXEF_SCANNER_1_PROTOCOL=escl

# Scanner 2
EXEF_SCANNER_2_ENABLED=true
EXEF_SCANNER_2_NAME=ExEF-Scanner-2
EXEF_SCANNER_2_API_URL=http://localhost:8102
EXEF_SCANNER_2_PROTOCOL=escl

# Printer 1
EXEF_PRINTER_1_ENABLED=true
EXEF_PRINTER_1_NAME=ExEF-Printer-1
EXEF_PRINTER_1_API_URL=http://localhost:8111
EXEF_PRINTER_1_PROTOCOL=ipp

# Printer 2
EXEF_PRINTER_2_ENABLED=true
EXEF_PRINTER_2_NAME=ExEF-Printer-2
EXEF_PRINTER_2_API_URL=http://localhost:8112
EXEF_PRINTER_2_PROTOCOL=ipp
