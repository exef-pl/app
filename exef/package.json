{
  "name": "exef",
  "version": "0.1.21",
  "description": "ExEF - System integracji z KSeF",
  "homepage": "https://github.com/exef-pl/app",
  "author": {
    "name": "ExEF Team",
    "email": "team@exef.pl"
  },
  "private": true,
  "main": "src/desktop/main.js",
  "bin": {
    "exef": "./bin/exef.cjs"
  },
  "scripts": {
    "web": "node src/web/server.js",
    "local": "node src/local-service/server.js",
    "desktop": "electron . --no-sandbox",
    "cli": "node bin/exef.cjs",
    "dev:web": "nodemon src/web/server.js",
    "dev:local": "nodemon src/local-service/server.js",
    "build:desktop": "electron-builder --publish never",
    "build:local:bin": "pkg src/local-service/server.js --targets node18-linux-x64 --output dist/exef-local-service && pkg src/local-service/server.js --targets node18-win-x64 --output dist/exef-local-service.exe",
    "build:local:packages": "docker run --rm -v \"$PWD\":/work -w /work ghcr.io/goreleaser/nfpm:v2.43.0 package -f packaging/local-service/nfpm.yaml -p deb -p rpm",
    "build:cli": "pkg bin/exef.cjs --targets node18-linux-x64 --output dist/exef && pkg bin/exef.cjs --targets node18-win-x64 --output dist/exef.exe",
    "test": "node test/test-inbox.cjs",
    "test:email": "node --test docker/email-tests/tests/email-sync.test.js",
    "test:email:docker": "cd docker/email-tests && ./tests/run-tests.sh",
    "docker:email:up": "cd docker/email-tests && docker-compose up -d",
    "docker:email:down": "cd docker/email-tests && docker-compose down",
    "test:storage": "node --test docker/storage-tests/tests/storage-sync.test.js",
    "test:storage:docker": "cd docker/storage-tests && ./tests/run-tests.sh",
    "docker:storage:up": "cd docker/storage-tests && docker-compose up -d",
    "docker:storage:down": "cd docker/storage-tests && docker-compose down",
    "test:ocr": "node --test docker/ocr-tests/tests/ocr-rest.test.js",
    "test:ocr:docker": "cd docker/ocr-tests && ./tests/run-tests.sh",
    "docker:ocr:up": "cd docker/ocr-tests && docker-compose up -d",
    "docker:ocr:down": "cd docker/ocr-tests && docker-compose down"
  },
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.19.2",
    "helmet": "^7.1.0",
    "sql.js": "^1.11.0"
  },
  "devDependencies": {
    "electron": "^28.3.3",
    "electron-builder": "^24.13.3",
    "nodemon": "^3.1.0",
    "pkg": "^5.8.1"
  },
  "build": {
    "appId": "pl.exef.desktop",
    "productName": "ExEF Desktop",
    "directories": {
      "output": "dist/desktop"
    },
    "files": [
      "src/desktop/**/*",
      "src/core/**/*"
    ],
    "linux": {
      "target": [
        "AppImage",
        "deb"
      ],
      "category": "Office",
      "maintainer": "ExEF Team <team@exef.pl>"
    },
    "win": {
      "target": [
        "nsis"
      ]
    }
  },
  "pkg": {
    "assets": [
      "node_modules/sql.js/dist/sql-wasm.wasm"
    ],
    "targets": [
      "node18-linux-x64",
      "node18-win-x64"
    ]
  }
}
